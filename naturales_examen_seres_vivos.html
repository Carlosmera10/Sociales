<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen: Los seres vivos</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');

        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #ecf0f1;
            --text-color: #34495e;
            --correct-color: #27ae60;
            --incorrect-color: #c0392b;
            --card-bg: #ffffff;
            --shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            --border-radius: 12px;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: auto;
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 30px 40px;
            text-align: center;
        }

        .header h1 {
            margin: 0;
            font-size: 2.5em;
        }

        .header p {
            margin: 5px 0 0;
            font-size: 1.2em;
            opacity: 0.9;
        }

        .content {
            padding: 30px 40px;
        }

        .question {
            background-color: #f9f9f9;
            border: 1px solid #e0e0e0;
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 25px;
            transition: all 0.3s ease;
        }

        .question-title {
            font-weight: 700;
            font-size: 1.3em;
            margin-bottom: 15px;
            color: var(--primary-color);
        }
        
        .question-text {
            font-size: 1.1em;
            margin-bottom: 15px;
        }

        .options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .option {
            background-color: var(--card-bg);
            border: 2px solid #bdc3c7;
            border-radius: 8px;
            padding: 10px 15px;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            user-select: none;
        }

        .option:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
        }

        .option.selected {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .option.correct {
            background-color: var(--correct-color);
            color: white;
            border-color: var(--correct-color);
        }

        .option.incorrect {
            background-color: var(--incorrect-color);
            color: white;
            border-color: var(--incorrect-color);
        }
        
        .option.feedback-correct {
            border: 2px solid var(--correct-color);
            box-shadow: 0 0 5px var(--correct-color);
        }

        /* Drag and Drop Styles */
        .word-bank {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 8px;
            margin-top: 15px;
            min-height: 40px;
        }

        .word {
            padding: 8px 12px;
            background-color: white;
            border: 1px solid #bdc3c7;
            border-radius: 6px;
            cursor: grab;
            user-select: none;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .word.dragging {
            opacity: 0.5;
        }

        .drop-zone {
            border: 2px dashed #bdc3c7;
            border-radius: 8px;
            padding: 15px;
            min-height: 50px;
            margin-top: 10px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: center;
            transition: background-color 0.3s;
        }

        .drop-zone.over {
            background-color: #d5e8f5;
        }

        .drop-zone.correct {
            border-color: var(--correct-color);
            background-color: #e8f8e8;
        }
        
        .drop-zone.incorrect {
            border-color: var(--incorrect-color);
            background-color: #f8e8e8;
        }

        /* Category Drop */
        .category-container {
            display: flex;
            gap: 20px;
            margin-top: 20px;
            justify-content: space-around;
        }
        .category-box {
            flex: 1;
            padding: 15px;
            border: 1px solid #ccc;
            border-radius: var(--border-radius);
            background-color: #fdfdfd;
        }
        .category-box h4 {
            text-align: center;
            margin-top: 0;
            color: var(--primary-color);
        }

        /* Matching Styles */
        .matching-container {
            display: flex;
            justify-content: space-between;
            gap: 20px;
        }
        .column {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .match-item {
            padding: 12px;
            border: 2px solid #bdc3c7;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .match-item:hover {
            border-color: var(--primary-color);
        }
        .match-item.selected {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        .match-item.paired {
            cursor: not-allowed;
            opacity: 0.7;
        }
        .match-item.paired.correct-match {
            background-color: var(--correct-color);
            border-color: var(--correct-color);
            color: white;
        }
        .match-item.paired.incorrect-match {
            background-color: var(--incorrect-color);
            border-color: var(--incorrect-color);
            color: white;
            animation: shake 0.5s;
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        /* Submit and Results */
        .submit-btn {
            display: block;
            width: 100%;
            padding: 15px;
            font-size: 1.5em;
            font-weight: 700;
            color: white;
            background: linear-gradient(135deg, var(--secondary-color), #27ae60);
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            margin-top: 30px;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(46, 204, 113, 0.4);
        }

        .results {
            margin-top: 30px;
            padding: 30px;
            background-color: #f9f9f9;
            border-radius: var(--border-radius);
            text-align: center;
            display: none; /* Hidden by default */
        }
        .results h2 {
            font-size: 2em;
            color: var(--primary-color);
            margin-top: 0;
        }
        .results p {
            font-size: 1.2em;
        }
        .score {
            font-size: 3em;
            font-weight: 700;
            color: var(--secondary-color);
        }
        .feedback-message {
            font-size: 1.3em;
            font-weight: 600;
            margin-top: 15px;
        }
        
        .main-footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }

        .main-footer a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸŒ¿ğŸ˜ğŸ ğŸ„ Examen: Los Seres Vivos ğŸ¦‹</h1>
            <p>Â¡Demuestra lo que has aprendido!</p>
        </div>
        <div class="content">
            <form id="quiz-form">
                
                <!-- SECCIÃ“N 1: RELLENAR HUECOS -->
                <div class="question-title">âœï¸ 1. Completa la frase con la palabra correcta</div>
                <div class="question" data-question-id="1.1">
                    <div class="question-text">1.1. Todos los seres vivos estÃ¡n formados por unas estructuras diminutas denominadas _____.</div>
                    <div class="options" data-correct="cÃ©lulas">
                        <div class="option" data-value="molÃ©culas">molÃ©culas</div><div class="option" data-value="cÃ©lulas">cÃ©lulas ğŸ”¬</div><div class="option" data-value="tejidos">tejidos ğŸ§±</div><div class="option" data-value="Ã¡tomos">Ã¡tomos</div>
                    </div>
                </div>
                <div class="question" data-question-id="1.2">
                    <div class="question-text">1.2. La funciÃ³n de _____ permite a los seres vivos tomar sustancias del entorno para obtener energÃ­a.</div>
                    <div class="options" data-correct="nutriciÃ³n">
                        <div class="option" data-value="relaciÃ³n">relaciÃ³n ğŸ‘€</div><div class="option" data-value="nutriciÃ³n">nutriciÃ³n ğŸ</div><div class="option" data-value="reproducciÃ³n">reproducciÃ³n ğŸ£</div><div class="option" data-value="respiraciÃ³n">respiraciÃ³n ğŸ˜®â€ğŸ’¨</div>
                    </div>
                </div>
                 <div class="question" data-question-id="1.3">
                    <div class="question-text">1.3. Los seres vivos que fabrican su propio alimento, como las plantas, se llaman _____.</div>
                    <div class="options" data-correct="autÃ³trofos">
                        <div class="option" data-value="heterÃ³trofos">heterÃ³trofos ğŸ–</div><div class="option" data-value="consumidores">consumidores</div><div class="option" data-value="autÃ³trofos">autÃ³trofos â˜€ï¸</div><div class="option" data-value="descomponedores">descomponedores</div>
                    </div>
                </div>
                <div class="question" data-question-id="1.4">
                    <div class="question-text">1.4. Los seres vivos que se alimentan de otros seres vivos, como los animales, son _____.</div>
                    <div class="options" data-correct="heterÃ³trofos">
                        <div class="option" data-value="productores">productores</div><div class="option" data-value="autÃ³trofos">autÃ³trofos â˜€ï¸</div><div class="option" data-value="heterÃ³trofos">heterÃ³trofos ğŸ–</div><div class="option" data-value="vegetales">vegetales</div>
                    </div>
                </div>
                <div class="question" data-question-id="1.5">
                    <div class="question-text">1.5. La funciÃ³n de _____ permite a los seres vivos captar informaciÃ³n de su entorno y reaccionar.</div>
                    <div class="options" data-correct="relaciÃ³n">
                        <div class="option" data-value="nutriciÃ³n">nutriciÃ³n ğŸ</div><div class="option" data-value="relaciÃ³n">relaciÃ³n ğŸ‘€</div><div class="option" data-value="reproducciÃ³n">reproducciÃ³n ğŸ£</div><div class="option" data-value="crecimiento">crecimiento</div>
                    </div>
                </div>
                <div class="question" data-question-id="1.6">
                    <div class="question-text">1.6. En la reproducciÃ³n _____, un solo individuo produce descendientes idÃ©nticos a Ã©l.</div>
                    <div class="options" data-correct="asexual">
                        <div class="option" data-value="sexual">sexual ğŸ‘¨â€ğŸ‘©â€ğŸ‘§</div><div class="option" data-value="asexual">asexual ğŸ¦ </div><div class="option" data-value="vivÃ­para">vivÃ­para</div><div class="option" data-value="ovÃ­para">ovÃ­para</div>
                    </div>
                </div>
                <div class="question" data-question-id="1.7">
                    <div class="question-text">1.7. En los seres vivos mÃ¡s complejos, las cÃ©lulas del mismo tipo se agrupan formando _____.</div>
                    <div class="options" data-correct="tejidos">
                        <div class="option" data-value="Ã³rganos">Ã³rganos â¤ï¸</div><div class="option" data-value="sistemas">sistemas ğŸ«</div><div class="option" data-value="organismos">organismos ğŸ§</div><div class="option" data-value="tejidos">tejidos ğŸ§±</div>
                    </div>
                </div>
                <div class="question" data-question-id="1.8">
                    <div class="question-text">1.8. Los animales que no tienen un esqueleto interno con columna vertebral se llaman _____.</div>
                    <div class="options" data-correct="invertebrados">
                        <div class="option" data-value="vertebrados">vertebrados ğŸ¦´</div><div class="option" data-value="invertebrados">invertebrados ğŸ¦‹</div><div class="option" data-value="mamÃ­feros">mamÃ­feros</div><div class="option" data-value="reptiles">reptiles</div>
                    </div>
                </div>
                <div class="question" data-question-id="1.9">
                    <div class="question-text">1.9. Los animales que tienen un esqueleto interno con columna vertebral se llaman _____.</div>
                    <div class="options" data-correct="vertebrados">
                        <div class="option" data-value="invertebrados">invertebrados ğŸ¦‹</div><div class="option" data-value="artrÃ³podos">artrÃ³podos ğŸ•·ï¸</div><div class="option" data-value="vertebrados">vertebrados ğŸ¦´</div><div class="option" data-value="moluscos">moluscos ğŸŒ</div>
                    </div>
                </div>
                <div class="question" data-question-id="1.10">
                    <div class="question-text">1.10. El proceso por el que se unen un Ã³vulo y un espermatozoide se llama _____.</div>
                    <div class="options" data-correct="fecundaciÃ³n">
                        <div class="option" data-value="gestaciÃ³n">gestaciÃ³n ğŸ¤°</div><div class="option" data-value="eclosiÃ³n">eclosiÃ³n ğŸ£</div><div class="option" data-value="fecundaciÃ³n">fecundaciÃ³n ğŸ¥š</div><div class="option" data-value="embriÃ³n">embriÃ³n ğŸ‘¶</div>
                    </div>
                </div>

                <!-- SECCIÃ“N 3: ORDENAR PASOS -->
                <div class="question-title">ğŸ”¢ 2. Ordena los pasos de cada proceso</div>
                <div class="question" data-question-id="3.1">
                    <div class="question-text">2.1. Ordena los niveles de organizaciÃ³n de un ser vivo, de lo mÃ¡s simple a lo mÃ¡s complejo.</div>
                    <div class="drop-zone" data-answer="CÃ©lula Tejido Ã“rgano Aparato/Sistema Organismo"></div>
                    <div class="word-bank">
                        <div class="word" draggable="true" data-value="Organismo">Organismo ğŸ§</div><div class="word" draggable="true" data-value="Tejido">Tejido ğŸ§±</div><div class="word" draggable="true" data-value="CÃ©lula">CÃ©lula ğŸ”¬</div><div class="word" draggable="true" data-value="Ã“rgano">Ã“rgano â¤ï¸</div><div class="word" draggable="true" data-value="Aparato/Sistema">Aparato/Sistema ğŸ«</div>
                    </div>
                </div>
                <div class="question" data-question-id="3.2">
                    <div class="question-text">2.2. Ordena las fases del proceso de nutriciÃ³n de un animal.</div>
                    <div class="drop-zone" data-answer="Tomar alimentos Distribuir y utilizar nutrientes Expulsar desechos"></div>
                    <div class="word-bank">
                        <div class="word" draggable="true" data-value="Expulsar desechos">Expulsar desechos ğŸš½</div><div class="word" draggable="true" data-value="Tomar alimentos">Tomar alimentos ğŸ”</div><div class="word" draggable="true" data-value="Distribuir y utilizar nutrientes">Distribuir y utilizar nutrientes ğŸ’ª</div>
                    </div>
                </div>
                <div class="question" data-question-id="3.3">
                    <div class="question-text">2.3. Ordena las etapas de la reproducciÃ³n sexual.</div>
                    <div class="drop-zone" data-answer="FecundaciÃ³n Desarrollo del embriÃ³n Nacimiento de las crÃ­as"></div>
                    <div class="word-bank">
                        <div class="word" draggable="true" data-value="Nacimiento de las crÃ­as">Nacimiento de las crÃ­as ğŸ£</div><div class="word" draggable="true" data-value="FecundaciÃ³n">FecundaciÃ³n ğŸ¥š</div><div class="word" draggable="true" data-value="Desarrollo del embriÃ³n">Desarrollo del embriÃ³n ğŸ‘¶</div>
                    </div>
                </div>

                <!-- SECCIÃ“N 4: ARRASTRAR A CATEGORÃA -->
                <div class="question-title">ğŸ¥—â¡ï¸ğŸ– 3. Arrastra cada ser vivo a su tipo de nutriciÃ³n</div>
                <div class="question" data-question-id="4.1">
                    <div class="word-bank">
                        <div class="word" draggable="true" data-type="heterotrofo" data-value="Perro">Perro ğŸ¶</div>
                        <div class="word" draggable="true" data-type="autotrofo" data-value="Planta">Planta ğŸŒ³</div>
                        <div class="word" draggable="true" data-type="autotrofo" data-value="Alga">Alga ğŸŒ±</div>
                        <div class="word" draggable="true" data-type="heterotrofo" data-value="Hongo">Hongo ğŸ„</div>
                    </div>
                    <div class="category-container">
                        <div class="category-box"><h4>AUTÃ“TROFO (fabrica su comida) â˜€ï¸</h4><div class="drop-zone" data-accept="autotrofo"></div></div>
                        <div class="category-box"><h4>HETERÃ“TROFO (come a otros) ğŸ–</h4><div class="drop-zone" data-accept="heterotrofo"></div></div>
                    </div>
                </div>
                <div class="question-title">ğŸ¦´ğŸ†šğŸ™ 4. Arrastra cada animal a su grupo</div>
                <div class="question" data-question-id="4.2">
                    <div class="word-bank">
                        <div class="word" draggable="true" data-type="vertebrado" data-value="Pez">Pez ğŸ </div>
                        <div class="word" draggable="true" data-type="invertebrado" data-value="Caracol">Caracol ğŸŒ</div>
                        <div class="word" draggable="true" data-type="vertebrado" data-value="Serpiente">Serpiente ğŸ</div>
                        <div class="word" draggable="true" data-type="invertebrado" data-value="Medusa">Medusa ğŸª¼</div>
                    </div>
                    <div class="category-container">
                        <div class="category-box"><h4>VERTEBRADO (con esqueleto) ğŸ¦´</h4><div class="drop-zone" data-accept="vertebrado"></div></div>
                        <div class="category-box"><h4>INVERTEBRADO (sin esqueleto) ğŸ™</h4><div class="drop-zone" data-accept="invertebrado"></div></div>
                    </div>
                </div>
                <div class="question-title">ğŸ¥šğŸ†šğŸ¤° 5. Arrastra cada animal a su tipo de nacimiento</div>
                <div class="question" data-question-id="4.3">
                    <div class="word-bank">
                        <div class="word" draggable="true" data-type="oviparo" data-value="Gallina">Gallina ğŸ”</div>
                        <div class="word" draggable="true" data-type="viviparo" data-value="Vaca">Vaca ğŸ„</div>
                        <div class="word" draggable="true" data-type="oviparo" data-value="Tortuga">Tortuga ğŸ¢</div>
                        <div class="word" draggable="true" data-type="viviparo" data-value="DelfÃ­n">DelfÃ­n ğŸ¬</div>
                    </div>
                    <div class="category-container">
                        <div class="category-box"><h4>OVÃPARO (de huevos) ğŸ¥š</h4><div class="drop-zone" data-accept="oviparo"></div></div>
                        <div class="category-box"><h4>VIVÃPARO (del vientre materno) ğŸ¤°</h4><div class="drop-zone" data-accept="viviparo"></div></div>
                    </div>
                </div>

                <!-- SECCIÃ“N 5: VERDADERO O FALSO -->
                <div class="question-title">âœ…/âŒ 6. Indica si es verdadero o falso</div>
                <div class="question" data-question-id="5.1">
                    <div class="question-text">6.1. Todos los seres vivos estÃ¡n formados por una sola cÃ©lula.</div>
                    <div class="options" data-correct="Falso"><div class="option" data-value="Verdadero">Verdadero</div><div class="option" data-value="Falso">Falso</div></div>
                </div>
                <div class="question" data-question-id="5.2">
                    <div class="question-text">6.2. Las plantas ğŸŒ¿ son seres heterÃ³trofos.</div>
                    <div class="options" data-correct="Falso"><div class="option" data-value="Verdadero">Verdadero</div><div class="option" data-value="Falso">Falso</div></div>
                </div>
                <div class="question" data-question-id="5.3">
                    <div class="question-text">6.3. La reproducciÃ³n sexual necesita dos progenitores.</div>
                    <div class="options" data-correct="Verdadero"><div class="option" data-value="Verdadero">Verdadero</div><div class="option" data-value="Falso">Falso</div></div>
                </div>
                <div class="question" data-question-id="5.4">
                    <div class="question-text">6.4. Los anfibios, como las ranas ğŸ¸, tienen el cuerpo cubierto de escamas.</div>
                    <div class="options" data-correct="Falso"><div class="option" data-value="Verdadero">Verdadero</div><div class="option" data-value="Falso">Falso</div></div>
                </div>
                <div class="question" data-question-id="5.5">
                    <div class="question-text">6.5. El aparato locomotor, formado por huesos ğŸ¦´ y mÃºsculos ğŸ’ª, nos permite movernos.</div>
                    <div class="options" data-correct="Verdadero"><div class="option" data-value="Verdadero">Verdadero</div><div class="option" data-value="Falso">Falso</div></div>
                </div>

                <!-- SECCIÃ“N 6: TEST (UNA RESPUESTA) -->
                <div class="question-title">ğŸ¯ 7. Elige la respuesta correcta</div>
                <div class="question" data-question-id="6.1">
                    <div class="question-text">7.1. Â¿CuÃ¡l de estas NO es una de las tres funciones vitales?</div>
                    <div class="options" data-correct="Pensamiento">
                        <div class="option" data-value="NutriciÃ³n">NutriciÃ³n ğŸ</div><div class="option" data-value="Pensamiento">Pensamiento ğŸ¤”</div><div class="option" data-value="RelaciÃ³n">RelaciÃ³n ğŸ‘€</div><div class="option" data-value="ReproducciÃ³n">ReproducciÃ³n ğŸ£</div>
                    </div>
                </div>
                <div class="question" data-question-id="6.2">
                    <div class="question-text">7.2. Â¿A quÃ© reino pertenecen las bacterias ğŸ¦ ?</div>
                    <div class="options" data-correct="Reino de las moneras">
                        <div class="option" data-value="Reino animal">Reino animal</div><div class="option" data-value="Reino de las moneras">Reino de las moneras</div><div class="option" data-value="Reino de los hongos">Reino de los hongos</div><div class="option" data-value="Reino de las plantas">Reino de las plantas</div>
                    </div>
                </div>
                <div class="question" data-question-id="6.3">
                    <div class="question-text">7.3. La uniÃ³n de varios tejidos que trabajan juntos forma un...</div>
                    <div class="options" data-correct="Ã“rgano">
                        <div class="option" data-value="Ã“rgano">Ã“rgano â¤ï¸</div><div class="option" data-value="CÃ©lula">CÃ©lula ğŸ”¬</div><div class="option" data-value="Sistema">Sistema ğŸ«</div><div class="option" data-value="Organismo">Organismo ğŸ§</div>
                    </div>
                </div>
                 <div class="question" data-question-id="6.4">
                    <div class="question-text">7.4. Â¿QuÃ© tipo de nutriciÃ³n tienen los animales ğŸ¦?</div>
                    <div class="options" data-correct="HeterÃ³trofa">
                        <div class="option" data-value="AutÃ³trofa">AutÃ³trofa â˜€ï¸</div><div class="option" data-value="HeterÃ³trofa">HeterÃ³trofa ğŸ–</div><div class="option" data-value="FotosintÃ©tica">FotosintÃ©tica</div><div class="option" data-value="Celular">Celular</div>
                    </div>
                </div>
                <div class="question" data-question-id="6.5">
                    <div class="question-text">7.5. Los reptiles, como las serpientes ğŸ, tienen el cuerpo cubierto de...</div>
                    <div class="options" data-correct="Escamas">
                        <div class="option" data-value="Pelo">Pelo</div><div class="option" data-value="Escamas">Escamas</div><div class="option" data-value="Plumas">Plumas</div><div class="option" data-value="Piel desnuda">Piel desnuda</div>
                    </div>
                </div>
                <div class="question" data-question-id="6.6">
                    <div class="question-text">7.6. Â¿CÃ³mo nacen la mayorÃ­a de los mamÃ­feros ğŸ»?</div>
                    <div class="options" data-correct="Son vivÃ­paros">
                        <div class="option" data-value="De huevos">De huevos ğŸ¥š</div><div class="option" data-value="Asexualmente">Asexualmente</div><div class="option" data-value="Son vivÃ­paros">Son vivÃ­paros ğŸ¤°</div><div class="option" data-value="Por esporas">Por esporas</div>
                    </div>
                </div>
                <div class="question" data-question-id="6.7">
                    <div class="question-text">7.7. Â¿QuÃ© aparato se encarga de transportar el oxÃ­geno y los nutrientes por el cuerpo?</div>
                    <div class="options" data-correct="Aparato circulatorio">
                        <div class="option" data-value="Aparato digestivo">Aparato digestivo ğŸ‘„</div><div class="option" data-value="Aparato circulatorio">Aparato circulatorio â¤ï¸</div><div class="option" data-value="Aparato respiratorio">Aparato respiratorio ğŸ«</div><div class="option" data-value="Aparato excretor">Aparato excretor ğŸš½</div>
                    </div>
                </div>
                <div class="question" data-question-id="6.8">
                    <div class="question-text">7.8. Los insectos ğŸœ son un ejemplo de animales...</div>
                    <div class="options" data-correct="Invertebrados">
                        <div class="option" data-value="Vertebrados">Vertebrados</div><div class="option" data-value="Invertebrados">Invertebrados</div><div class="option" data-value="MamÃ­feros">MamÃ­feros</div><div class="option" data-value="Anfibios">Anfibios</div>
                    </div>
                </div>
                <div class="question" data-question-id="6.9">
                    <div class="question-text">7.9. Â¿CuÃ¡l de estos animales es un anfibio?</div>
                    <div class="options" data-correct="Rana">
                        <div class="option" data-value="Lagartija">Lagartija ğŸ¦</div><div class="option" data-value="Rana">Rana ğŸ¸</div><div class="option" data-value="Pez payaso">Pez payaso ğŸ¤¡ğŸ </div><div class="option" data-value="DelfÃ­n">DelfÃ­n ğŸ¬</div>
                    </div>
                </div>
                <div class="question" data-question-id="6.10">
                    <div class="question-text">7.10. El Ã³rgano que interpreta la informaciÃ³n y envÃ­a Ã³rdenes al resto del cuerpo es el...</div>
                    <div class="options" data-correct="Cerebro">
                        <div class="option" data-value="CorazÃ³n">CorazÃ³n â¤ï¸</div><div class="option" data-value="EstÃ³mago">EstÃ³mago</div><div class="option" data-value="PulmÃ³n">PulmÃ³n ğŸ«</div><div class="option" data-value="Cerebro">Cerebro ğŸ§ </div>
                    </div>
                </div>

                <!-- SECCIÃ“N 8: ELEGIR FRASE CORRECTA/INCORRECTA -->
                <div class="question-title">ğŸ§ 8. Elige la frase correcta o incorrecta</div>
                <div class="question" data-question-id="8.1">
                    <div class="question-text">8.1. Elige la frase <strong>correcta</strong>:</div>
                    <div class="options" data-correct="Los hongos tienen nutriciÃ³n heterÃ³trofa.">
                        <div class="option" data-value="Los hongos son plantas.">Los hongos ğŸ„ son plantas ğŸŒ¿.</div><div class="option" data-value="Los hongos tienen nutriciÃ³n heterÃ³trofa.">Los hongos ğŸ„ tienen nutriciÃ³n heterÃ³trofa.</div><div class="option" data-value="Los hongos son animales pequeÃ±os.">Los hongos ğŸ„ son animales pequeÃ±os.</div>
                    </div>
                </div>
                <div class="question" data-question-id="8.2">
                    <div class="question-text">8.2. Elige la frase <strong>incorrecta</strong>:</div>
                    <div class="options" data-correct="Los peces tienen el cuerpo cubierto de pelo.">
                        <div class="option" data-value="Los peces respiran por branquias.">Los peces ğŸŸ respiran por branquias.</div><div class="option" data-value="Casi todos los peces son ovÃ­paros.">Casi todos los peces ğŸŸ son ovÃ­paros.</div><div class="option" data-value="Los peces tienen el cuerpo cubierto de pelo.">Los peces ğŸŸ tienen el cuerpo cubierto de pelo.</div>
                    </div>
                </div>
                <div class="question" data-question-id="8.3">
                    <div class="question-text">8.3. Elige la frase <strong>correcta</strong>:</div>
                    <div class="options" data-correct="Las aves tienen el cuerpo cubierto de plumas.">
                        <div class="option" data-value="Las aves son vivÃ­paras.">Las aves ğŸ¦ son vivÃ­paras.</div><div class="option" data-value="Las aves tienen dientes.">Las aves ğŸ¦ tienen dientes.</div><div class="option" data-value="Las aves tienen el cuerpo cubierto de plumas.">Las aves ğŸ¦ tienen el cuerpo cubierto de plumas.</div>
                    </div>
                </div>
                <div class="question" data-question-id="8.4">
                    <div class="question-text">8.4. Elige la frase <strong>incorrecta</strong>:</div>
                    <div class="options" data-correct="El corazÃ³n forma parte del aparato locomotor.">
                        <div class="option" data-value="El sistema nervioso detecta cambios en el entorno.">El sistema nervioso detecta cambios en el entorno.</div><div class="option" data-value="El corazÃ³n forma parte del aparato locomotor.">El corazÃ³n â¤ï¸ forma parte del aparato locomotor.</div><div class="option" data-value="Los pulmones sirven para respirar.">Los pulmones ğŸ« sirven para respirar.</div>
                    </div>
                </div>
                <div class="question" data-question-id="8.5">
                    <div class="question-text">8.5. Elige la frase <strong>correcta</strong>:</div>
                    <div class="options" data-correct="Los protozoos son seres vivos unicelulares.">
                        <div class="option" data-value="Los protozoos son plantas microscÃ³picas.">Los protozoos son plantas microscÃ³picas.</div><div class="option" data-value="Todos los protozoos son autÃ³trofos.">Todos los protozoos son autÃ³trofos.</div><div class="option" data-value="Los protozoos son seres vivos unicelulares.">Los protozoos son seres vivos unicelulares.</div>
                    </div>
                </div>
                
                <!-- SECCIÃ“N 9: EMPAREJAR COLUMNAS -->
                <div class="question-title">ğŸ¤ 9. Empareja los elementos</div>
                <div class="question matching-question" data-question-id="9.1">
                    <div class="question-text">9.1. Empareja cada funciÃ³n vital con su descripciÃ³n.</div>
                    <div class="matching-container">
                        <div class="column" id="column-a-9.1">
                            <div class="match-item" data-match-id="1">NutriciÃ³n ğŸ</div>
                            <div class="match-item" data-match-id="2">RelaciÃ³n ğŸ‘€</div>
                            <div class="match-item" data-match-id="3">ReproducciÃ³n ğŸ£</div>
                        </div>
                        <div class="column" id="column-b-9.1">
                            <div class="match-item" data-match-id="2">Captar informaciÃ³n y reaccionar.</div>
                            <div class="match-item" data-match-id="3">Producir nuevos seres vivos.</div>
                            <div class="match-item" data-match-id="1">Obtener energÃ­a y materiales.</div>
                        </div>
                    </div>
                </div>
                <div class="question matching-question" data-question-id="9.2">
                    <div class="question-text">9.2. Empareja cada animal con su grupo de vertebrados.</div>
                    <div class="matching-container">
                        <div class="column" id="column-a-9.2">
                            <div class="match-item" data-match-id="1">DelfÃ­n ğŸ¬</div>
                            <div class="match-item" data-match-id="2">Rana ğŸ¸</div>
                            <div class="match-item" data-match-id="3">TiburÃ³n ğŸ¦ˆ</div>
                            <div class="match-item" data-match-id="4">Loro ğŸ¦œ</div>
                            <div class="match-item" data-match-id="5">Tortuga ğŸ¢</div>
                        </div>
                        <div class="column" id="column-b-9.2">
                            <div class="match-item" data-match-id="4">Ave ğŸ¦</div>
                            <div class="match-item" data-match-id="2">Anfibio ğŸ¸</div>
                            <div class="match-item" data-match-id="5">Reptil ğŸ¦</div>
                            <div class="match-item" data-match-id="1">MamÃ­fero ğŸ»</div>
                            <div class="match-item" data-match-id="3">Pez ğŸŸ</div>
                        </div>
                    </div>
                </div>

            </form>
            <button type="button" class="submit-btn" id="submit-button">Â¡Terminar y Corregir!</button>
            <div class="results" id="results-container">
                <h2>Resultados del Examen</h2>
                <p>Has obtenido una puntuaciÃ³n de:</p>
                <div id="score-display" class="score"></div>
                <p id="feedback-message" class="feedback-message"></p>
            </div>
        </div>
    </div>
    <footer class="main-footer">
        <a href="index.html">ğŸ”™ Volver al menÃº de materias</a>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // --- CONSTANTES Y VARIABLES ---
        const form = document.getElementById('quiz-form');
        const submitButton = document.getElementById('submit-button');
        const resultsContainer = document.getElementById('results-container');
        const scoreDisplay = document.getElementById('score-display');
        const feedbackMessage = document.getElementById('feedback-message');
        
        let draggedItem = null;

        // --- LÃ“GICA DE BARAJAR OPCIONES ---
        function shuffleChildren(parent) {
            let children = Array.from(parent.children);
            parent.innerHTML = '';
            while (children.length > 0) {
                parent.appendChild(children.splice(Math.floor(Math.random() * children.length), 1)[0]);
            }
        }

        document.querySelectorAll('.options, .word-bank, .column[id^="column-b"]').forEach(container => {
            shuffleChildren(container);
        });

        // --- LÃ“GICA DE SELECCIÃ“N DE OPCIONES (TIPOS 1, 5, 6, 8) ---
        form.addEventListener('click', function(e) {
            if (e.target.classList.contains('option')) {
                const parentOptions = e.target.parentElement;
                
                if (parentOptions.classList.contains('multiple-choice')) {
                    e.target.classList.toggle('selected');
                } else {
                    const siblings = parentOptions.querySelectorAll('.option');
                    siblings.forEach(sibling => sibling.classList.remove('selected'));
                    e.target.classList.add('selected');
                }
            }
        });

        // --- LÃ“GICA DE ARRASTRAR Y SOLTAR (TIPOS 3, 4) ---
        document.addEventListener('dragstart', (e) => {
            if (e.target.classList.contains('word')) {
                draggedItem = e.target;
                setTimeout(() => e.target.classList.add('dragging'), 0);
            }
        });

        document.addEventListener('dragend', (e) => {
            if (draggedItem) {
                draggedItem.classList.remove('dragging');
                draggedItem = null;
            }
        });

        document.querySelectorAll('.drop-zone').forEach(zone => {
            zone.addEventListener('dragover', (e) => {
                e.preventDefault();
                zone.classList.add('over');
            });
            zone.addEventListener('dragleave', () => {
                zone.classList.remove('over');
            });
            zone.addEventListener('drop', (e) => {
                e.preventDefault();
                zone.classList.remove('over');
                if (draggedItem) {
                    // Permitir soltar en cualquier zona, la validaciÃ³n es al final
                    zone.appendChild(draggedItem);
                }
            });
        });

        // --- LÃ“GICA DE EMPAREJAR COLUMNAS (TIPO 9) ---
        document.querySelectorAll('.matching-question').forEach(question => {
            const columnA = question.querySelector('.column[id^="column-a"]');
            const columnB = question.querySelector('.column[id^="column-b"]');
            let selectedA = null;
            let selectedB = null;

            question.addEventListener('click', (e) => {
                const target = e.target.closest('.match-item');
                if (!target || target.classList.contains('paired')) {
                    return;
                }
                
                if (columnA.contains(target)) {
                    if (selectedA) selectedA.classList.remove('selected');
                    selectedA = target;
                    selectedA.classList.add('selected');
                } else if (columnB.contains(target)) {
                    if (selectedB) selectedB.classList.remove('selected');
                    selectedB = target;
                    selectedB.classList.add('selected');
                }

                if (selectedA && selectedB) {
                    selectedA.classList.add('paired');
                    selectedB.classList.add('paired');
                    
                    selectedA.dataset.pairedWith = selectedB.dataset.matchId;
                    
                    selectedA.classList.remove('selected');
                    selectedB.classList.remove('selected');
                    selectedA = null;
                    selectedB = null;
                }
            });
        });


        // --- LÃ“GICA DE CORRECCIÃ“N ---
        submitButton.addEventListener('click', function() {
            let score = 0;
            let totalPoints = 0;

            // Deshabilitar interacciones
            form.style.pointerEvents = 'none';

            // 1, 5, 6, 8. Preguntas de opciÃ³n Ãºnica
            document.querySelectorAll('.question[data-question-id^="1."], .question[data-question-id^="5."], .question[data-question-id^="6."], .question[data-question-id^="8."]').forEach(q => {
                totalPoints++;
                const options = q.querySelector('.options');
                const selected = options.querySelector('.option.selected');
                const correctAnswer = options.dataset.correct;
                if (selected) {
                    if (selected.dataset.value === correctAnswer) {
                        score++;
                        selected.classList.add('correct');
                    } else {
                        selected.classList.add('incorrect');
                        const correctOption = Array.from(options.children).find(opt => opt.dataset.value === correctAnswer);
                        if(correctOption) correctOption.classList.add('feedback-correct');
                    }
                } else {
                    const correctOption = Array.from(options.children).find(opt => opt.dataset.value === correctAnswer);
                    if(correctOption) correctOption.classList.add('feedback-correct');
                }
            });

            // 3. Ordenar pasos
            document.querySelectorAll('.question[data-question-id^="3."]').forEach(q => {
                totalPoints++;
                const dropZone = q.querySelector('.drop-zone');
                const correctAnswer = dropZone.dataset.answer;
                const userAnswer = Array.from(dropZone.children).map(word => word.dataset.value).join(' ');
                if(userAnswer === correctAnswer) {
                    score++;
                    dropZone.classList.add('correct');
                } else {
                    dropZone.classList.add('incorrect');
                }
            });

            // 4. Arrastrar a categorÃ­a
            document.querySelectorAll('.question[data-question-id^="4."]').forEach(q => {
                totalPoints++;
                let allCorrect = true;
                q.querySelectorAll('.drop-zone').forEach(zone => {
                    const requiredType = zone.dataset.accept;
                    Array.from(zone.children).forEach(word => {
                        if (word.dataset.type !== requiredType) {
                            allCorrect = false;
                        }
                    });
                });
                if (q.querySelector('.word-bank').children.length > 0) {
                    allCorrect = false;
                }
                if(allCorrect) {
                    score++;
                    q.querySelectorAll('.drop-zone').forEach(z => z.classList.add('correct'));
                } else {
                    q.querySelectorAll('.drop-zone').forEach(z => z.classList.add('incorrect'));
                }
            });

            // 9. Emparejar columnas
            document.querySelectorAll('.question[data-question-id^="9."]').forEach(q => {
                const itemsA = q.querySelectorAll('.column[id^="column-a"] .match-item');
                totalPoints += itemsA.length;
                
                itemsA.forEach(itemA => {
                    if (itemA.classList.contains('paired')) {
                        const itemBpaired = q.querySelector(`.column[id^="column-b"] .match-item[data-match-id="${itemA.dataset.pairedWith}"]`);
                        if (itemA.dataset.matchId === itemA.dataset.pairedWith) {
                            score++;
                            itemA.classList.add('correct-match');
                            if (itemBpaired) itemBpaired.classList.add('correct-match');
                        } else {
                            itemA.classList.add('incorrect-match');
                            if (itemBpaired) itemBpaired.classList.add('incorrect-match');
                        }
                    }
                });
            });


            // --- MOSTRAR RESULTADOS ---
            const finalGrade = totalPoints > 0 ? ((score / totalPoints) * 10).toFixed(2) : 0;
            scoreDisplay.textContent = `${finalGrade} / 10`;

            let message = '';
            if (finalGrade >= 9) {
                message = 'Â¡Excelente! Â¡Eres un autÃ©ntico experto en seres vivos! ğŸ¥³';
            } else if (finalGrade >= 7) {
                message = 'Â¡Muy buen trabajo! Has demostrado que sabes mucho. ğŸ‘';
            } else if (finalGrade >= 5) {
                message = 'Â¡Aprobado! No estÃ¡ mal, pero puedes mejorar. ğŸ˜‰';
            } else if (finalGrade >= 3) {
                message = 'ğŸ’© Â¡Uy! Necesitas repasar un poco mÃ¡s este tema.';
            } else {
                message = 'ğŸ’© Â¡Vaya! Parece que este tema se te ha atragantado. Â¡Ãnimo y a estudiar!';
            }
            feedbackMessage.textContent = message;

            resultsContainer.style.display = 'block';
            submitButton.style.display = 'none';
            window.scrollTo(0, document.body.scrollHeight);
        });
    });
    </script>
</body>
</html>
